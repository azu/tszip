{"version":3,"file":"logError.cjs","sources":["../src/logError.ts"],"sourcesContent":["import chalk from 'chalk';\n\nconst stderr = console.error.bind(console);\n\nexport default function logError(err: any) {\n  const error = err.error || err;\n  const description = `${error.name ? error.name + ': ' : ''}${\n    error.message || error\n  }`;\n  const message = error.plugin\n    ? error.plugin === 'rpt2'\n      ? `(typescript) ${description}`\n      : `(${error.plugin} plugin) ${description}`\n    : description;\n\n  stderr(chalk.bold.red(message));\n\n  if (error.loc) {\n    stderr();\n    stderr(`at ${error.loc.file}:${error.loc.line}:${error.loc.column}`);\n  }\n\n  if (error.frame) {\n    stderr();\n    stderr(chalk.dim(error.frame));\n  } else if (err.stack) {\n    const headlessStack = error.stack.replace(message, '');\n    stderr(chalk.dim(headlessStack));\n  }\n\n  stderr();\n}\n"],"names":["stderr","console","error","bind","err","description","name","message","plugin","chalk","bold","red","loc","file","line","column","frame","dim","stack","headlessStack","replace"],"mappings":"wKAEA,MAAMA,EAASC,QAAQC,MAAMC,KAAKF,kCAEDG,GAC/B,MAAMF,EAAQE,EAAIF,OAASE,EACrBC,EAAc,GAAGH,EAAMI,KAAOJ,EAAMI,KAAO,KAAO,KACtDJ,EAAMK,SAAWL,IAEbK,EAAUL,EAAMM,OACD,SAAjBN,EAAMM,OACJ,gBAAgBH,IAChB,IAAIH,EAAMM,kBAAkBH,IAC9BA,EASJ,GAPAL,EAAOS,UAAMC,KAAKC,IAAIJ,IAElBL,EAAMU,MACRZ,IACAA,EAAO,MAAME,EAAMU,IAAIC,QAAQX,EAAMU,IAAIE,QAAQZ,EAAMU,IAAIG,WAGzDb,EAAMc,MACRhB,IACAA,EAAOS,UAAMQ,IAAIf,EAAMc,aAClB,GAAIZ,EAAIc,MAAO,CACpB,MAAMC,EAAgBjB,EAAMgB,MAAME,QAAQb,EAAS,IACnDP,EAAOS,UAAMQ,IAAIE,IAGnBnB"}