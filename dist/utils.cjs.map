{"version":3,"file":"utils.cjs","sources":["../src/utils.ts"],"sourcesContent":["import fs from 'fs-extra';\nimport path from 'path';\nimport camelCase from 'camelcase';\n\nimport { PackageJson } from './types';\n\n// Remove the package name scope if it exists\nexport const removeScope = (name: string) => name.replace(/^@.*\\//, '');\n\n// UMD-safe package name\nexport const safeVariableName = (name: string) =>\n  camelCase(\n    removeScope(name)\n      .toLowerCase()\n      .replace(/((^[^a-zA-Z]+)|[^\\w.-])|([^a-zA-Z0-9]+$)/g, '')\n  );\n\nexport const safePackageName = (name: string) =>\n  name\n    .toLowerCase()\n    .replace(/(^@.*\\/)|((^[^a-zA-Z]+)|[^\\w.-])|([^a-zA-Z0-9]+$)/g, '');\n\nexport const external = (id: string) =>\n  !id.startsWith('.') && !path.isAbsolute(id);\n\n// Make sure any symlinks in the project folder are resolved:\n// https://github.com/facebookincubator/create-react-app/issues/637\nexport const appDirectory = fs.realpathSync(process.cwd());\nexport const resolveApp = function (relativePath: string) {\n  return path.resolve(appDirectory, relativePath);\n};\n\n// Taken from Create React App, react-dev-utils/clearConsole\n// @see https://github.com/facebook/create-react-app/blob/master/packages/react-dev-utils/clearConsole.js\nexport function clearConsole() {\n  process.stdout.write(\n    process.platform === 'win32' ? '\\x1B[2J\\x1B[0f' : '\\x1B[2J\\x1B[3J\\x1B[H'\n  );\n}\n\nexport function getReactVersion({\n  dependencies,\n  devDependencies,\n}: PackageJson) {\n  return (\n    (dependencies && dependencies.react) ||\n    (devDependencies && devDependencies.react)\n  );\n}\n\nexport function getNodeEngineRequirement({ engines }: PackageJson) {\n  return engines && engines.node;\n}\n"],"names":["removeScope","name","replace","appDirectory","fs","realpathSync","process","cwd","stdout","write","platform","id","startsWith","path","isAbsolute","engines","node","dependencies","devDependencies","react","relativePath","resolve","toLowerCase","camelCase"],"mappings":"gPAOaA,EAAeC,GAAiBA,EAAKC,QAAQ,SAAU,IAoBvDC,EAAeC,UAAGC,aAAaC,QAAQC,8DAQlDD,QAAQE,OAAOC,MACQ,UAArBH,QAAQI,SAAuB,WAAmB,iCAd7BC,IACtBA,EAAGC,WAAW,OAASC,UAAKC,WAAWH,8CA2BDI,QAAEA,IACzC,OAAOA,GAAWA,EAAQC,wCAXIC,aAC9BA,EAAYC,gBACZA,IAEA,OACGD,GAAgBA,EAAaE,OAC7BD,GAAmBA,EAAgBC,gDAlBd,SAAUC,GAClC,OAAOP,UAAKQ,QAAQlB,EAAciB,4BAZJnB,GAC9BA,EACGqB,cACApB,QAAQ,qDAAsD,6BAVlCD,GAC/BsB,UACEvB,EAAYC,GACTqB,cACApB,QAAQ,4CAA6C"}