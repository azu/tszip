{"version":3,"file":"logError.mjs","sources":["../src/logError.ts"],"sourcesContent":["import chalk from 'chalk';\n\nconst stderr = console.error.bind(console);\n\nexport default function logError(err: any) {\n  const error = err.error || err;\n  const description = `${error.name ? error.name + ': ' : ''}${\n    error.message || error\n  }`;\n  const message = error.plugin\n    ? error.plugin === 'rpt2'\n      ? `(typescript) ${description}`\n      : `(${error.plugin} plugin) ${description}`\n    : description;\n\n  stderr(chalk.bold.red(message));\n\n  if (error.loc) {\n    stderr();\n    stderr(`at ${error.loc.file}:${error.loc.line}:${error.loc.column}`);\n  }\n\n  if (error.frame) {\n    stderr();\n    stderr(chalk.dim(error.frame));\n  } else if (err.stack) {\n    const headlessStack = error.stack.replace(message, '');\n    stderr(chalk.dim(headlessStack));\n  }\n\n  stderr();\n}\n"],"names":["stderr","console","error","bind","logError","err","description","name","message","plugin","chalk","bold","red","loc","file","line","column","frame","dim","stack","headlessStack","replace"],"mappings":"qBAEA,MAAMA,EAASC,QAAQC,MAAMC,KAAKF,kBAEVG,EAASC,GAC/B,MAAMH,EAAQG,EAAIH,OAASG,EACrBC,EAAc,GAAGJ,EAAMK,KAAOL,EAAMK,KAAO,KAAO,KACtDL,EAAMM,SAAWN,IAEbM,EAAUN,EAAMO,OACD,SAAjBP,EAAMO,OACJ,gBAAgBH,IAChB,IAAIJ,EAAMO,kBAAkBH,IAC9BA,EASJ,GAPAN,EAAOU,EAAMC,KAAKC,IAAIJ,IAElBN,EAAMW,MACRb,IACAA,EAAO,MAAME,EAAMW,IAAIC,QAAQZ,EAAMW,IAAIE,QAAQb,EAAMW,IAAIG,WAGzDd,EAAMe,MACRjB,IACAA,EAAOU,EAAMQ,IAAIhB,EAAMe,aAClB,GAAIZ,EAAIc,MAAO,CACpB,MAAMC,EAAgBlB,EAAMiB,MAAME,QAAQb,EAAS,IACnDR,EAAOU,EAAMQ,IAAIE,IAGnBpB"}